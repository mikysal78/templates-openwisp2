{
    "files": [
        {
            "path": "/etc/bird.conf",
            "mode": "0644",
            "contents": "# Configure logging\nlog syslog all;\nlog \"/var/log/bird.log\" all;\nlog stderr all;\nrouter id from \"br-lan\";\n\n# Sync bird routing table with kernel\nprotocol kernel kernel4 {\n    description \"Kernel protocol for IPv4\";\n    metric 50;\n    ipv4 {\n        table master4;\n        export filter {\n            if proto = \"lan\" then reject;\n            accept;\n        };\n        import all;\n    };\n};\n\nprotocol kernel kernel6 {\n    description \"Kernel protocol for IPv6\";\n    metric 300;\n    ipv6 {\n        table master6;\n        export filter {\n            if proto = \"lan\" then reject;\n            accept;\n        };\n        import all;\n    };\n};\n\nprotocol device {\n    description \"Device protocol\";\n};\n\nprotocol direct lan {\n    description \"LAN protocol\";\n    ipv4;\n    ipv6;\n    interface \"br-lan\";\n    check link;\n}\nprotocol babel ninux {\n    description \"Babel protocol for NINUX network\";\n    ipv4 {\n        export where (source = RTS_DEVICE) || (source = RTS_BABEL);\n    };\n    ipv6 {\n        export where (source = RTS_DEVICE) || (source = RTS_BABEL);\n    };\n    interface \"vpnbas\" {\n        check link;\n    };\n## Used to connect with other neighbours on the same layer 2 network.\n## Decomment the config to use it, not this comments of course!\n## Use the correct name interface, not the logical openwrt/(l)uci one.\n## You can define more interfaces maches using * in regex (like \"ifnet*\")\n## or \"ifnet1\", \"ifnet2\", \"ifnetN\", \"otherifnetnames\" form.\n## You can also define more interfaces with other parameters, please refer to:\n## https://bird.network.cz/?get_doc&v=20&f=bird-6.html#ss6.1\n## After, reload the bird daemon with: /etc/init.d/bird reload\n## or if you perefer, reastart with: /etc/init.d/bird restart\n    interface \"mesh\" {\n        type wireless; # or wired\n        check link;\n    };\n}"
        }
    ]
}
